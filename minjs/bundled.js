!function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var E=n[i]={exports:{}};t[i][0].call(E.exports,function(e){var n=t[i][1][e];return r(n?n:e)},E,E.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";THREE.PointerLockControls=function(e){var t=this;e.rotation.set(0,0,0);var n=new THREE.Object3D;n.add(e);var o=new THREE.Object3D;o.position.y=10,o.add(n);var r=Math.PI/2,a=function(e){if(t.enabled!==!1){var a=e.movementX||e.mozMovementX||e.webkitMovementX||0,i=e.movementY||e.mozMovementY||e.webkitMovementY||0;o.rotation.y-=.002*a,n.rotation.x-=.002*i,n.rotation.x=Math.max(-r,Math.min(r,n.rotation.x))}};this.dispose=function(){document.removeEventListener("mousemove",a,!1)},document.addEventListener("mousemove",a,!1),this.enabled=!1,this.getObject=function(){return o},this.getDirection=function(){var e=new THREE.Vector3(0,0,(-1)),t=new THREE.Euler(0,0,0,"YXZ");return function(r){return t.set(n.rotation.x,o.rotation.y,0),r.copy(e).applyEuler(t),r}}()},t.exports=THREE.PointerLockControls},{}],2:[function(e,t,n){"use strict";function o(){return j}function r(){j.position.x-=3}function a(){j.position.x+=3}function i(){j.position.y+=3}function s(){j.position.y-=3}function c(){j.rotation.x-=y}function d(){j.rotation.x+=y}function E(){j.rotation.y+=y}function u(){j.rotation.y-=y}function h(){j.position.z-=3}function w(){j.position.z+=3}var l=e("./constants").WIDTH,v=e("./constants").HEIGHT,m=l/v,p=Math.PI,f=0,H=0,T=100,R=0,M=0,b=0,y=p/2/3/3/2,j=new THREE.PerspectiveCamera(60,m,1,1e4);j.position.set(f,H,T),j.rotation.set(R,M,b),t.exports={getCamera:o,moveLeft:r,moveRight:a,moveUp:i,moveDown:s,lookDown:c,lookLeft:E,lookRight:u,lookUp:d,moveForward:h,moveBackward:w}},{"./constants":3}],3:[function(e,t,n){"use strict";var o={objects:[],WIDTH:window.innerWidth,HEIGHT:window.innerHeight,UNITSIZE:250};t.exports=o},{}],4:[function(e,t,n){"use strict";function o(){this.container=new THREE.Object3D,this.objects=[];for(var e=30,t=e/2,n=new THREE.PlaneBufferGeometry(e,e),o=new THREE.MeshBasicMaterial({color:13421772}),r=new THREE.Mesh(n,o),a=15,i=1,s=new THREE.Geometry,c=-a;c<=a;c+=i)s.vertices.push(new THREE.Vector3((-a),0,c)),s.vertices.push(new THREE.Vector3(a,0,c)),s.vertices.push(new THREE.Vector3(c,0,(-a))),s.vertices.push(new THREE.Vector3(c,0,a));var d=new THREE.LineBasicMaterial({color:0,opacity:.5,transparent:!0}),E=new THREE.LineSegments(s,d);E.rotation.set(Math.PI/2,0,0),r.add(E),this.container.add(r),this.objects.push(r);var u=new THREE.BoxGeometry(t,e,1),h=new THREE.MeshBasicMaterial({color:16711680}),w=new THREE.Mesh(u,h);w.rotation.set(0,Math.PI/2,0),w.position.set(-t,0,t/2);var l=new THREE.MeshBasicMaterial({color:65280}),v=new THREE.Mesh(u,l);v.rotation.set(0,Math.PI/2,Math.PI),v.position.set(t,0,t/2);var m=new THREE.MeshBasicMaterial({color:255}),p=new THREE.Mesh(u,m);p.rotation.set(Math.PI/2,0,Math.PI/2),p.position.set(0,t,t/2),this.container.add(w),this.container.add(v),this.container.add(p),this.objects.push(w)}t.exports=o},{}],5:[function(e,t,n){"use strict";function o(){this.container=new THREE.Object3D,this.objects=[];var e=6,t=4,n=.5,o=.5,r=.5,a=4,i=new THREE.BoxGeometry(e,t,n),s=new THREE.MeshBasicMaterial({color:0}),c=new THREE.Mesh(i,s),d=new THREE.BoxGeometry(o,r,a),E=new THREE.MeshBasicMaterial({color:0}),u=new THREE.Mesh(d,E);u.position.set(2,-1.5,-2);var h=new THREE.Mesh(d,E);h.position.set(2,1.5,-2);var w=new THREE.Mesh(d,E);w.position.set(-2,-1.5,-2);var l=new THREE.Mesh(d,E);l.position.set(-2,1.5,-2),this.container.add(c),this.container.add(u),this.container.add(h),this.container.add(w),this.container.add(l),this.objects.push(c)}t.exports=o},{}],6:[function(e,t,n){"use strict";function o(){T.aspect=window.innerWidth/window.innerHeight,T.updateProjectionMatrix(),R.setSize(window.innerWidth,window.innerHeight)}function r(e){e.preventDefault(),m.set(e.clientX/window.innerWidth*2-1,2*-(e.clientY/window.innerHeight)+1),v.setFromCamera(m,T);var t=v.intersectObjects(w);if(t.length>0){var n=t[0];d.scale.set(.3,.3,.3),d.rotation.set(Math.PI/2,0,0),d.position.copy(n.point).add(n.face.normal),d.position.divideScalar(3).multiplyScalar(3).addScalar(1.5),p.add(d)}Z()}function a(e){e.preventDefault(),m.set(e.clientX/window.innerWidth*2-1,2*-(e.clientY/window.innerHeight)+1),v.setFromCamera(m,T);var t=v.intersectObjects(w);if(t.length>0){var n=t[0];if(l)U.objects.includes(n.object)&&Y.objects.includes(n.object)||(p.remove(n.object),w.splice(w.indexOf(n.object),1));else{var o=d.clone();o.scale.set(.3,.3,.3),o.rotation.set(Math.PI/2,0,0),o.position.copy(n.point).add(n.face.normal),o.position.divideScalar(3).multiplyScalar(3).addScalar(1.5),p.add(o),w.push(o)}Z()}}function i(e){switch(e.keyCode){case 16:l=!0}}function s(e){switch(e.keyCode){case 16:l=!1}}function c(){if(requestAnimationFrame(c),y){v.ray.origin.copy(b.getObject().position),v.ray.origin.y-=10;var e=v.intersectObjects(w),t=e.length>0,n=performance.now(),o=(n-L)/1e3;I.x-=10*I.x*o,I.z-=10*I.z*o,I.y-=9.8*100*o,j&&(I.z-=400*o),x&&(I.z+=400*o),g&&(I.x-=400*o),C&&(I.x+=400*o),t===!0&&(I.y=Math.max(0,I.y),k=!0),b.getObject().translateX(I.x*o),b.getObject().translateY(I.y*o),b.getObject().translateZ(I.z*o),b.getObject().position.y<10&&(I.y=0,b.getObject().position.y=10,k=!0),L=n}R.render(p,T)}var d,E=(e("./constants").WIDTH,e("./constants").HEIGHT,e("./constants").UNITSIZE,e("./constructors/RoomConstructor.js")),u=e("./constructors/TableConstructor.js"),h=e("./camera.js"),w=e("./constants").objects,l=!1,v=new THREE.Raycaster,m=new THREE.Vector2,p=new THREE.Scene;p.fog=new THREE.Fog(16777215,0,750);var f=new THREE.AmbientLight(6316128);p.add(f);var H=new THREE.DirectionalLight(16777215);H.position.set(1,.75,.5).normalize(),p.add(H);var T=h.getCamera();p.add(T);var R=e("./renderer"),M=e("./PointerLockControls.js"),b=new M(T);p.add(b.getObject());var y=!0;b.enabled=!0;var j=!1,x=!1,g=!1,C=!1,k=!1,L=performance.now(),I=new THREE.Vector3,O=function(e){switch(e.keyCode){case 38:case 87:j=!0;break;case 37:case 65:g=!0;break;case 40:case 83:x=!0;break;case 39:case 68:C=!0;break;case 32:k===!0&&(I.y+=350),k=!1}},P=function(e){switch(e.keyCode){case 38:case 87:j=!1;break;case 37:case 65:g=!1;break;case 40:case 83:x=!1;break;case 39:case 68:C=!1}};document.addEventListener("keydown",O,!1),document.addEventListener("keyup",P,!1);var D=new THREE.PlaneGeometry(2e3,2e3,100,100);D.rotateX(-Math.PI/2);for(var S=0,z=D.vertices.length;S<z;S++){var B=D.vertices[S];B.x+=20*Math.random()-10,B.y+=2*Math.random(),B.z+=20*Math.random()-10}for(var S=0,z=D.faces.length;S<z;S++){var G=D.faces[S];G.vertexColors[0]=(new THREE.Color).setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),G.vertexColors[1]=(new THREE.Color).setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),G.vertexColors[2]=(new THREE.Color).setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75)}var W=new THREE.MeshBasicMaterial({vertexColors:THREE.VertexColors}),V=new THREE.Mesh(D,W);p.add(V);var X=new THREE.ObjectLoader;X.load("js/utah-teapot-threejs/utah-teapot.json",function(e){d=e});var Y=new u,F=Y.container,U=new E,q=U.container;q.rotation.set(-Math.PI/2,0,0),q.scale.set(30,30,30),p.add(q),w=w.concat(U.objects),F.position.set(0,-10,6),q.add(F),w=w.concat(Y.objects);var N=document.createElement("div");document.body.appendChild(N),N.appendChild(R.domElement),window.addEventListener("resize",o,!1),document.addEventListener("mousemove",r,!1),document.addEventListener("mousedown",a,!1),document.addEventListener("keydown",i,!1),document.addEventListener("keyup",s,!1);var Z=function(){c(),R.render(p,T)};Z()},{"./PointerLockControls.js":1,"./camera.js":2,"./constants":3,"./constructors/RoomConstructor.js":4,"./constructors/TableConstructor.js":5,"./renderer":7}],7:[function(e,t,n){"use strict";var o=e("./constants").WIDTH,r=e("./constants").HEIGHT,a=new THREE.WebGLRenderer;a.setClearColor(15790320),a.setSize(o,r),t.exports=a},{"./constants":3}]},{},[6]);